<ng-container *ngIf="showCreditCardForm; else showUserInfoForm">
    <h2>Payment settings</h2>
    <cwb-payment></cwb-payment>
</ng-container>
<ng-template #showUserInfoForm>
<h2>General settings</h2>
<form (ngSubmit)="save()" [formGroup]="form">
    <div class="d-flex">
        <div>
            <label class="form-label" for="firstName">First name</label>
            <input class="form-control form-control-lg" formControlName="firstName" id="firstName"
                   placeholder="Enter your first name"
                   required type="text">
        </div>
        <div>
            <label class="form-label" for="lastName">Last name</label>
            <input class="form-control form-control-lg" formControlName="lastName" id="lastName"
                   placeholder="Enter your last name"
                   required type="text">
        </div>
    </div>

    <div>
        <label class="form-label" for="new-email">Email</label>
        <input class="form-control form-control-lg" formControlName="email" id="new-email"
               placeholder="Enter your email here"
               required type="text">
    </div>

    <div>
        <cwb-timezone-selector formControlName="timeZone"></cwb-timezone-selector>
    </div>

    <div class="container">
        <div class="row">
          <div class="col text-center">
           
            <ng-container *ngIf="paymentMethodComplete===1; else notComplete">
                <div style="margin: 5%;">
                    You have a payment method saved with CaptionWorks.
                </div>
            </ng-container>
            <ng-template #notComplete>
                <div style="margin: 5%;">
                    You don't have a payment method set up yet.
                </div>
            </ng-template>
            
            <button class="btn btn-secondary" (click)="showPaymentSettingForm()">Update payment method</button>
          </div>
        </div>
    

        <div class="row">
            <div class="col text-right">
                <button [disabled]="form.invalid || form.untouched" class="btn btn-primary" style="text-align: right" type="submit">Save</button>
            </div>
        </div>
        
    </div>
</form>
</ng-template>
