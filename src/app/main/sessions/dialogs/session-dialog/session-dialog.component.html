<div class="modal-header">
    <h1 class="modal-title">
        <ng-container *ngIf="!inEditMode; else edit_title">Add session</ng-container>
        <ng-template #edit_title>Edit session</ng-template>
    </h1>
</div>
<div [formGroup]="form" class="modal-body">
    <div class="d-flex">
        <div class="d-flex flex-column w-100">
            <label class="form-label" for="startDate">Session date</label>
            <input class="form-control form-control-lg" formControlName="startDate" id="startDate" required type="date" placeholder="Select date">
        </div>
        <div class="d-flex flex-column w-100">
            <label class="form-label" for="startTime">Session time</label>
            <ngb-timepicker [(ngModel)]="time" [meridian]="true" [spinners]="false"
                formControlName="startTime" required></ngb-timepicker>
        </div>
    </div>
    <div class="form-inline">
        <label>Total session duration</label>
        <input formControlName="sessionDurationMins" id="durationMins" max="1439" min="15"
               required type="number">
        <label>minutes</label>
        <p class="text-danger" *ngIf="form.controls['sessionDurationMins'].invalid">Minimum duration is 15 minutes</p>
    </div>
    <div class="d-flex overrun-check">
        <input class="form-check-input" formControlName="allowOverrun" id="allowOverrun" type="checkbox">
        <span>
            <label class="form-check-label form-control-lg" for="allowOverrun">Audio details same as booking</label>
        </span>
    </div>
    <div>
        <label class="form-label" for="captionDispOverride">Caption Display Details override</label>
        <textarea class="form-control-lg form-control" formControlName="captionDispOverride"
                  id="captionDispOverride"></textarea>
    </div>
    <div *ngIf="isAdmin">
        <label class="form-label" for="respeakerRateOverride">Re-speaker rate override</label>
        <input class="form-control form-control-lg" formControlName="respeakerRateOverride" id="respeakerRateOverride"
               type="text">
    </div>
    <div *ngIf="isAdmin" class="form-check">
        <input class="form-check-input" formControlName="nonBilled" id="nonBilled" type="checkbox">
        <label class="form-check-label" for="nonBilled">Non-billed</label>
    </div>
</div>
<div class="modal-footer d-flex justify-content-between">
    <button (click)="close()" class="btn btn-secondary">Cancel</button>
    <button (click)="save()" [disabled]="form.invalid || form.pristine" class="btn btn-primary">
        <ng-container *ngIf="!inEditMode; else edit">Create</ng-container>
        <ng-template #edit>Save</ng-template>
    </button>
</div>
