<div class="modal-header">
    <h1 class="modal-title">
        <ng-container *ngIf="!inEditMode; else edit_title">Add session</ng-container>
        <ng-template #edit_title>Edit session</ng-template>
    </h1>
</div>
<div [formGroup]="form" class="modal-body">
    <div class="d-flex">
        <div class="d-flex flex-column w-100">
            <label class="form-label" for="startDate">Session date</label>
            <input class="form-control form-control-lg" formControlName="startDate"
                   id="startDate" required type="datetime-local" placeholder="Select date">
        </div>
        <div class="d-flex flex-column">
            <label class="form-label">Session time</label>
        </div>
    </div>
    <div class="form-inline">
        <label>Total session duration</label>
        <input formControlName="sessionDurationMins" id="durationMins" max="1439" min="15"
               required type="number">
        <label>minutes</label>
        <p class="text-danger" *ngIf="form.controls['sessionDurationMins'].invalid">Minimum duration is 15 minutes</p>
    </div>
    <div class="d-flex overrun-check">
        <input class="form-check-input" #audioCheck (change)="updateAudioAttribute(audioCheck.checked)" type="checkbox" checked>
        <span>
            <label class="form-check-label form-control-lg">Audio details same as booking</label>
        </span>
    </div>
    <div>
        <label class="form-label" for="audioDetailsOverride">Audio details</label>
        <textarea class="form-control-lg form-control" formControlName="audioDetailsOverride"
                  id="audioDetailsOverride" placeholder="Enter audio details here"></textarea>
    </div>
    <div class="d-flex overrun-check">
        <input class="form-check-input" #captionCheck (change)="updateCaptionAttribute(captionCheck.checked)" type="checkbox" checked>
        <span>
            <label class="form-check-label form-control-lg">Caption display same as booking</label>
        </span>
    </div>
    <div>
        <label class="form-label overrun-check" for="captionDispOverride">Caption display</label>
        <textarea class="form-control form-control-lg" formControlName="captionDispOverride" id="captionDispOverride"
            placeholder="Enter caption details here"></textarea>
    </div>
    <div *ngIf="isAdmin" class="d-flex flex-column w-100">
        <label class="form-label" for="respeakerRateOverride">Re-speaker rate override</label>
        <input class="form-control" formControlName="respeakerRateOverride" id="respeakerRateOverride" type="number">
    </div>
    <div class="d-flex overrun-check">
        <input class="form-check-input" formControlName="allowOverrun" id="allowOverrun" type="checkbox">
        <label class="form-check-label" for="allowOverrun">Allow captioning to overrun</label>
    </div>
    <div *ngIf="isAdmin" class="d-flex overrun-check">
        <input class="form-check-input" formControlName="nonBilled" id="nonBilled" type="checkbox">
        <label class="form-check-label" for="nonBilled">Non-billed</label>
    </div>
</div>
<div class="modal-footer flex j-c-sb">
    <cw-small-button
        (click)="close()"
        [buttonText]="'Cancel'"
        [inverted]="true"
    ></cw-small-button>
    <cw-small-button
        (click)="save()"
        [buttonDisabled]="form.invalid || form.pristine"
        [buttonText]="inEditMode ? 'Save' : 'Create'"
    ></cw-small-button>
</div>
