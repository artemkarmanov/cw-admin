<cwb-page-top>
	<cwb-button-header>
		<h1>Sessions</h1>
		<cw-svg-icon (click)="reload()" [independent]="true" [svg]="'refresh'"></cw-svg-icon>
		<input
			type="text"
			class="form-control"
			ngxDaterangepickerMd
			placeholder="Start Time"
			[formControl]="rangePicker"
			[closeOnAutoApply]="true"
			[autoApply]="true"
			[locale]="{
				displayFormat: 'MM/DD/YYYY',
				daysOfWeek: ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT']
			}"
            (datesUpdated)="changedDates()"
		/>
	</cwb-button-header>
</cwb-page-top>

<cwb-card *ngIf="(sessions$ | async) as sessions">
	<cwb-smart-table
		*ngIf="sessions.length; else empty"
		[source]="sessions || []"
		[perPage]="9"
		[columns]="columnsConfig"
	></cwb-smart-table>
</cwb-card>

<ng-template #empty>
	<ng-container *ngIf="rangePicker.value; else notTouched">
		No sessions for chosen period found.
	</ng-container>
	<ng-template #notTouched>
		<span>You have no range selected.</span>
	</ng-template>
</ng-template>
